<?php
$custom_head_path = get_template_directory() . '/template-parts/acf-template/custom-head.php';
if (file_exists($custom_head_path)) {
    require_once $custom_head_path;
} else {
    echo 'Custom header file not found!';
}
?>

<header id="header" data-kira-timeline="onload">
    <div class="header-container" data-kira-item="fadeInUp.stagger.sm">
        <!-- Logo Section -->
        <div data-stagger-item>
            <a href="<?php echo esc_url(home_url('/')); ?>" class="item-logo">
                <svg xmlns="http://www.w3.org/2000/svg" width="200" height="150" viewBox="0 0 447 322" fill="none">
                    <path d="M98.4 101.6C97.8667 99.8667 97.6 98.4 97.6 97.2C97.6 95.8667 97.6667 94.4 97.8 92.8C97.9333 91.2 98.2 89 98.6 86.2C99.1333 83.4 100.067 80.6667 101.4 78C102.733 75.2 104.267 72.5333 106 70C107.733 67.4667 109.933 65.1333 112.6 63C115.4 60.8667 118.467 59 121.8 57.4C128.867 53.9333 137.467 52.2 147.6 52.2C168 52.2 184.6 59 197.4 72.6C210.333 86.0667 216.8 103.333 216.8 124.4C216.8 145.467 209.2 163 194 177C178.8 190.867 159.533 197.8 136.2 197.8C112.867 197.8 93.4667 190.867 78 177C62.6667 163.133 55 145.133 55 123C55 108.733 58.3333 96.0667 65 85C71.6667 73.9333 81.2 65.2667 93.6 59L94.8 60.8C86.1333 66.5333 79.8667 74.8 76 85.6C72.2667 96.4 70.4 107.867 70.4 120C70.4 142.533 76.5333 160.133 88.8 172.8C101.067 185.467 116.8 191.8 136 191.8C155.2 191.8 170.867 185.467 183 172.8C195.267 160 201.4 143.2 201.4 122.4C201.4 104.4 196.533 89.2 186.8 76.8C177.2 64.4 163.6 58.2 146 58.2C138.133 58.2 131 59.6 124.6 62.4C113 67.3333 105.333 75.4667 101.6 86.8C100.533 90.1333 100 93 100 95.4C100 97.8 100.133 99.7333 100.4 101.2L98.4 101.6Z" fill="black" />
                    <path d="M423.8 246.8C418.333 249.6 411.933 251.933 404.6 253.8C397.4 255.667 390.933 256.867 385.2 257.4C379.6 257.933 374.6 258.2 370.2 258.2C355.8 258.2 341.067 255.733 326 250.8C320.133 248.933 310.267 245.2 296.4 239.6C261.733 225.733 237.6 217.467 224 214.8V212.8C224.133 212.8 224.333 212.8 224.6 212.8C247.8 212.8 265.533 205.2 277.8 190C286.867 178.667 291.4 163.467 291.4 144.4C291.4 125.2 285.4 108.8 273.4 95.2C261.133 81.2 245.2 74.2 225.6 74.2C213.733 74.2 202.8 77 192.8 82.6C182.8 88.2 174.867 96.2 169 106.6C163.267 117 160.4 128.733 160.4 141.8C160.4 150.733 161.933 159.067 165 166.8C168.067 174.533 172.333 180.867 177.8 185.8C185.667 193 194.8 196.6 205.2 196.6C210.8 196.6 216.4 195.333 222 192.8C230.267 189.067 235.8 182.8 238.6 174L240.4 174.6C237.867 184.2 232.667 191.6 224.8 196.8C218.933 200.667 211.8 202.6 203.4 202.6C200.733 202.6 197.867 202.4 194.8 202C179.2 199.733 167 193.067 158.2 182C149.4 170.8 145 157.8 145 143C145 128.2 148.533 115.133 155.6 103.8C162.8 92.3333 172.467 83.5333 184.6 77.4C196.867 71.2667 210.267 68.2 224.8 68.2C240.933 68.2 255.267 71.6 267.8 78.4C280.333 85.2 289.933 94.2667 296.6 105.6C303.4 116.8 306.8 129.133 306.8 142.6C306.8 153.667 304.8 163.733 300.8 172.8C296.933 181.733 291.867 189.067 285.6 194.8C273.067 206.267 258.933 213.067 243.2 215.2C254 217.333 270.733 221.733 293.4 228.4C316.067 235.2 327.467 238.6 327.6 238.6C346.8 243.933 365.267 246.6 383 246.6C393.133 246.6 403.133 245.6 413 243.6C427.133 240.933 437.867 236 445.2 228.8L446 229.8C442.4 235.533 435 241.2 423.8 246.8Z" fill="black" />
                    <path d="M12.28 278.96C12.7333 278.96 13.56 278.96 14.76 278.96C15.96 278.96 18.1867 278.973 21.44 279C26.16 279.053 29.8933 280.333 32.64 282.84C35.3867 285.32 36.76 288.72 36.76 293.04C36.76 297.333 35.3867 300.733 32.64 303.24C29.8933 305.747 26.16 307 21.44 307H6.92V306.6H7.44C8.10667 306.6 8.68 306.373 9.16 305.92C9.66667 305.44 9.94667 304.867 10 304.2V280.8C7.01333 281.013 4.8 281.707 3.36 282.88C2.64 283.44 2.08 284.013 1.68 284.6C1.25333 285.187 0.84 285.893 0.44 286.72L0.0399997 286.56C0.68 283.893 2.01333 281.973 4.04 280.8C6.09333 279.6 8.84 278.987 12.28 278.96ZM20.96 305.32C23.8133 305.32 26.0667 304.213 27.72 302C29.4 299.787 30.24 296.787 30.24 293C30.24 289.213 29.4 286.227 27.72 284.04C26.0667 281.853 23.84 280.76 21.04 280.76C21.0133 280.76 20.9867 280.76 20.96 280.76H16V305.32H20.96ZM81.1109 313.8C79.0309 314.84 76.8176 315.36 74.4709 315.36C72.3909 315.36 70.4976 315.04 68.7909 314.4C65.1109 313.04 61.9776 310.387 59.3909 306.44C58.7243 305.48 57.4843 303.64 55.6709 300.92C53.8576 298.2 52.6843 296.467 52.1509 295.72C51.2176 294.253 50.4709 293.453 49.9109 293.32V292.92C49.9376 292.92 49.9643 292.92 49.9909 292.92C50.0443 292.92 50.0976 292.92 50.1509 292.92C50.2043 292.92 50.2576 292.92 50.3109 292.92C50.3643 292.92 50.4309 292.92 50.5109 292.92C50.5909 292.92 50.6576 292.92 50.7109 292.92C52.0709 292.92 53.3243 292.613 54.4709 292C56.2043 291.04 57.0709 289.267 57.0709 286.68C57.0709 284.787 56.5376 283.333 55.4709 282.32C54.4043 281.28 53.1243 280.76 51.6309 280.76H48.5909V304.08C48.5909 304.773 48.8443 305.373 49.3509 305.88C49.8576 306.36 50.4576 306.6 51.1509 306.6H51.6709V307H39.5109V306.6H40.0309C40.6976 306.6 41.2843 306.36 41.7909 305.88C42.2976 305.4 42.5643 304.813 42.5909 304.12V281.92C42.5643 281.227 42.2976 280.64 41.7909 280.16C41.3109 279.653 40.7243 279.4 40.0309 279.4H39.5109V279H53.2309C56.6709 279 59.3376 279.787 61.2309 281.36C62.7243 282.587 63.4709 284.32 63.4709 286.56C63.4709 288.8 62.7376 290.627 61.2709 292.04C59.8309 293.427 58.1776 294.12 56.3109 294.12C56.1509 294.12 55.9776 294.107 55.7909 294.08C56.8843 294.667 57.7909 295.32 58.5109 296.04C59.2576 296.76 59.8976 297.44 60.4309 298.08C60.9909 298.72 61.4576 299.293 61.8309 299.8C62.2309 300.28 62.7509 300.933 63.3909 301.76C64.0309 302.56 64.6976 303.4 65.3909 304.28C66.0843 305.16 66.8443 306.067 67.6709 307C68.5243 307.907 69.4576 308.773 70.4709 309.6C71.5109 310.427 72.5643 311.107 73.6309 311.64C75.8976 312.787 78.3909 313.373 81.1109 313.4V313.8ZM73.8003 306.56C73.2403 307.12 72.5603 307.4 71.7603 307.4C70.9603 307.4 70.2803 307.12 69.7203 306.56C69.1603 306 68.8803 305.32 68.8803 304.52C68.8803 303.72 69.1603 303.04 69.7203 302.48C70.2803 301.893 70.9603 301.6 71.7603 301.6C72.5603 301.6 73.2403 301.893 73.8003 302.48C74.387 303.04 74.6803 303.72 74.6803 304.52C74.6803 305.32 74.387 306 73.8003 306.56ZM103.788 278.44C108.721 278.44 112.641 279.747 115.548 282.36C118.454 284.973 119.908 288.52 119.908 293C119.908 297.48 118.454 301.027 115.548 303.64C112.641 306.253 108.721 307.56 103.788 307.56C98.8542 307.56 94.9342 306.253 92.0275 303.64C89.1208 301.027 87.6675 297.48 87.6675 293C87.6675 290.04 88.3208 287.467 89.6275 285.28C90.9608 283.067 92.8408 281.373 95.2675 280.2C97.6942 279.027 100.534 278.44 103.788 278.44ZM96.7875 302.44C98.5208 304.733 100.854 305.88 103.788 305.88C106.721 305.88 109.041 304.733 110.748 302.44C112.481 300.12 113.348 296.973 113.348 293C113.348 290.387 112.961 288.107 112.188 286.16C111.414 284.213 110.308 282.72 108.868 281.68C107.428 280.64 105.734 280.12 103.788 280.12C100.854 280.12 98.5208 281.28 96.7875 283.6C95.0808 285.893 94.2275 289.027 94.2275 293C94.2275 296.973 95.0808 300.12 96.7875 302.44ZM158.872 306.6H159.512V307H147.512V306.64H148.112C148.566 306.64 148.952 306.467 149.272 306.12C149.592 305.747 149.726 305.347 149.672 304.92L148.112 290.4L140.592 303.36C139.606 305.013 139.099 306.493 139.072 307.8H138.672L128.392 290.52L126.832 304.92C126.779 305.347 126.912 305.747 127.232 306.12C127.552 306.467 127.939 306.64 128.392 306.64H128.992V307H120.632V306.6H121.272C122.019 306.6 122.659 306.373 123.192 305.92C123.752 305.467 124.086 304.853 124.192 304.08L127.512 278.44H127.872L140.272 298.84L152.192 278.44H152.552L155.952 304.08C156.086 304.853 156.419 305.467 156.952 305.92C157.512 306.373 158.152 306.6 158.872 306.6ZM188.637 306.6H188.997V307H176.237V306.6H176.597C177.184 306.6 177.611 306.427 177.877 306.08C178.171 305.707 178.317 305.36 178.317 305.04C178.317 304.72 178.251 304.4 178.117 304.08L176.157 299.16H166.797L164.717 304.08C164.584 304.427 164.517 304.76 164.517 305.08C164.517 305.373 164.651 305.707 164.917 306.08C165.211 306.427 165.664 306.6 166.277 306.6H166.597V307H158.037V306.6H158.397C159.011 306.6 159.624 306.413 160.237 306.04C160.851 305.667 161.357 305.107 161.757 304.36L170.997 283.44C172.251 280.8 172.917 279.053 172.997 278.2H173.357L185.237 304.28C185.637 305.053 186.144 305.64 186.757 306.04C187.371 306.413 187.997 306.6 188.637 306.6ZM167.477 297.48H175.477L171.597 287.64L167.477 297.48ZM200.47 280.76H198.75C198.697 280.76 198.657 280.76 198.63 280.76V304.08C198.657 305.067 199.083 305.8 199.91 306.28C200.31 306.493 200.737 306.6 201.19 306.6H201.71V307H189.55V306.6H190.07C191.03 306.6 191.763 306.187 192.27 305.36C192.483 304.987 192.603 304.573 192.63 304.12V281.92C192.603 281.227 192.337 280.64 191.83 280.16C191.35 279.653 190.763 279.4 190.07 279.4H189.55V279H203.27C205.857 279 208.043 279.56 209.83 280.68C210.737 281.24 211.457 282.027 211.99 283.04C212.523 284.027 212.79 285.16 212.79 286.44C212.79 287.693 212.563 288.853 212.11 289.92C211.683 290.987 210.95 291.92 209.91 292.72C208.897 293.52 207.67 294 206.23 294.16C207.777 294.667 209.137 295.84 210.31 297.68C213.19 302.293 215.323 305.04 216.71 305.92C217.403 306.347 218.27 306.573 219.31 306.6V307H215.39C213.123 307 211.23 306.693 209.71 306.08C208.19 305.44 206.95 304.36 205.99 302.84C205.51 302.067 204.897 300.907 204.15 299.36C203.403 297.787 202.91 296.667 202.67 296C201.95 294.4 201.043 293.507 199.95 293.32V292.92H201.19C202.39 292.92 203.443 292.56 204.35 291.84C205.283 291.12 205.91 289.947 206.23 288.32C206.337 287.76 206.39 287.32 206.39 287C206.39 284.813 205.95 283.24 205.07 282.28C204.19 281.293 203.057 280.787 201.67 280.76C201.403 280.76 201.003 280.76 200.47 280.76ZM286.794 315.08C284.047 316.947 280.54 317.88 276.274 317.88C271.74 317.88 267.207 317.013 262.674 315.28C261.34 314.773 259.38 313.96 256.794 312.84C249.967 309.853 245.714 308.093 244.034 307.56V307.16H244.114C244.14 307.16 244.167 307.16 244.194 307.16C247.367 307.16 250.154 306.16 252.554 304.16C253.754 303.147 254.74 301.787 255.514 300.08C256.394 298.133 256.834 295.933 256.834 293.48C256.834 290.04 255.967 287.04 254.234 284.48C253.327 283.173 252.18 282.107 250.794 281.28C249.274 280.373 247.554 279.92 245.634 279.92C242.647 279.92 240.114 281.067 238.034 283.36C235.954 285.627 234.914 288.827 234.914 292.96C234.914 295.813 235.487 298.213 236.634 300.16C237.994 302.453 239.994 303.6 242.634 303.6C243.194 303.6 243.834 303.52 244.554 303.36C245.3 303.173 246.06 302.68 246.834 301.88C247.634 301.08 248.14 300.04 248.354 298.76L248.794 298.8C248.767 301.04 248.114 302.667 246.834 303.68C245.527 304.693 244.047 305.2 242.394 305.2C241.54 305.2 240.62 305.133 239.634 305C236.354 304.44 233.674 303.04 231.594 300.8C229.54 298.56 228.514 295.84 228.514 292.64C228.514 290.613 228.927 288.707 229.754 286.92C231.487 283.267 234.527 280.72 238.874 279.28C240.98 278.587 243.274 278.24 245.754 278.24C250.954 278.24 255.167 279.627 258.394 282.4C261.62 285.173 263.234 288.667 263.234 292.88C263.234 294.96 262.834 296.893 262.034 298.68C261.26 300.467 260.22 301.96 258.914 303.16C256.247 305.667 253.127 307.187 249.554 307.72C251.9 308.067 254.927 308.64 258.634 309.44C262.367 310.267 264.967 310.84 266.434 311.16C272.3 312.413 277.087 313.04 280.794 313.04C281.247 313.04 281.967 313.013 282.954 312.96C283.94 312.907 285.154 312.667 286.594 312.24C288.06 311.813 289.247 311.187 290.154 310.36L290.394 310.52C289.78 312.36 288.58 313.88 286.794 315.08ZM293.325 306.6H293.685V307H280.925V306.6H281.285C281.871 306.6 282.298 306.427 282.565 306.08C282.858 305.707 283.005 305.36 283.005 305.04C283.005 304.72 282.938 304.4 282.805 304.08L280.845 299.16H271.485L269.405 304.08C269.271 304.427 269.205 304.76 269.205 305.08C269.205 305.373 269.338 305.707 269.605 306.08C269.898 306.427 270.351 306.6 270.965 306.6H271.285V307H262.725V306.6H263.085C263.698 306.6 264.311 306.413 264.925 306.04C265.538 305.667 266.045 305.107 266.445 304.36L275.685 283.44C276.938 280.8 277.605 279.053 277.685 278.2H278.045L289.925 304.28C290.325 305.053 290.831 305.64 291.445 306.04C292.058 306.413 292.685 306.6 293.325 306.6ZM272.165 297.48H280.165L276.285 287.64L272.165 297.48ZM308.638 279C313.358 279 317.091 280.253 319.838 282.76C322.584 285.267 323.958 288.68 323.958 293C323.958 297.32 322.584 300.733 319.838 303.24C317.091 305.747 313.358 307 308.638 307H294.118V306.6H294.638C295.331 306.6 295.918 306.36 296.398 305.88C296.904 305.373 297.171 304.773 297.198 304.08V281.68C297.118 281.04 296.838 280.507 296.358 280.08C295.878 279.627 295.304 279.4 294.638 279.4H294.118V279H308.638ZM308.118 305.32C310.038 305.32 311.691 304.827 313.078 303.84C314.491 302.827 315.571 301.4 316.318 299.56C317.064 297.693 317.438 295.507 317.438 293C317.438 289.213 316.598 286.213 314.918 284C313.264 281.787 310.998 280.68 308.118 280.68H303.198V305.32H308.118ZM343.553 278.44C348.486 278.44 352.406 279.747 355.313 282.36C358.22 284.973 359.673 288.52 359.673 293C359.673 297.48 358.22 301.027 355.313 303.64C352.406 306.253 348.486 307.56 343.553 307.56C338.62 307.56 334.7 306.253 331.793 303.64C328.886 301.027 327.433 297.48 327.433 293C327.433 290.04 328.086 287.467 329.393 285.28C330.726 283.067 332.606 281.373 335.033 280.2C337.46 279.027 340.3 278.44 343.553 278.44ZM336.553 302.44C338.286 304.733 340.62 305.88 343.553 305.88C346.486 305.88 348.806 304.733 350.513 302.44C352.246 300.12 353.113 296.973 353.113 293C353.113 290.387 352.726 288.107 351.953 286.16C351.18 284.213 350.073 282.72 348.633 281.68C347.193 280.64 345.5 280.12 343.553 280.12C340.62 280.12 338.286 281.28 336.553 283.6C334.846 285.893 333.993 289.027 333.993 293C333.993 296.973 334.846 300.12 336.553 302.44ZM392.123 279.4H391.443C390.883 279.4 390.39 279.587 389.963 279.96C389.563 280.307 389.363 280.747 389.363 281.28V296.88C389.363 300.16 388.337 302.76 386.283 304.68C384.23 306.6 381.417 307.56 377.843 307.56C373.63 307.56 370.403 306.627 368.163 304.76C365.923 302.867 364.803 300.253 364.803 296.92V281.4C364.803 280.813 364.59 280.333 364.163 279.96C363.763 279.587 363.27 279.4 362.683 279.4H362.043V279H373.563V279.4H372.923C372.337 279.4 371.843 279.587 371.443 279.96C371.043 280.307 370.83 280.76 370.803 281.32V296.6C370.803 299.427 371.497 301.667 372.883 303.32C374.27 304.973 376.177 305.8 378.603 305.8C381.03 305.8 382.95 305.027 384.363 303.48C385.777 301.907 386.497 299.787 386.523 297.12V281.32C386.523 280.76 386.31 280.307 385.883 279.96C385.483 279.587 384.99 279.4 384.403 279.4H383.763V279H392.123V279.4ZM430.591 306.6H431.231V307H419.231V306.64H419.831C420.284 306.64 420.671 306.467 420.991 306.12C421.311 305.747 421.444 305.347 421.391 304.92L419.831 290.4L412.311 303.36C411.324 305.013 410.818 306.493 410.791 307.8H410.391L400.111 290.52L398.551 304.92C398.498 305.347 398.631 305.747 398.951 306.12C399.271 306.467 399.658 306.64 400.111 306.64H400.711V307H392.351V306.6H392.991C393.738 306.6 394.378 306.373 394.911 305.92C395.471 305.467 395.804 304.853 395.911 304.08L399.231 278.44H399.591L411.991 298.84L423.911 278.44H424.271L427.671 304.08C427.804 304.853 428.138 305.467 428.671 305.92C429.231 306.373 429.871 306.6 430.591 306.6ZM433.036 306.6C433.729 306.6 434.316 306.36 434.796 305.88C435.303 305.373 435.569 304.773 435.596 304.08V281.88C435.569 281.187 435.303 280.6 434.796 280.12C434.316 279.64 433.729 279.4 433.036 279.4H432.516V279H444.676L444.636 279.4H444.156C443.463 279.4 442.863 279.64 442.356 280.12C441.849 280.6 441.596 281.187 441.596 281.88V304.08C441.596 304.773 441.849 305.373 442.356 305.88C442.863 306.36 443.463 306.6 444.156 306.6H444.636L444.676 307H432.516V306.6H433.036Z" fill="black" />
                </svg>
            </a>
        </div>

        <!-- Navigation Menu -->
        <nav class="item-nav">
            <?php
            // Check the current language (assuming you are using Polylang)
            $current_lang = pll_current_language();

            // Set the menu location based on the language
            if ($current_lang == 'ar') {
                // Arabic Menu
                $menu_location = 'main_menu_ar'; // Set the menu location for Arabic
            } else {
                // English Menu
                $menu_location = 'main_menu_en'; // Set the menu location for English
            }

            // Output the menu based on the language
            wp_nav_menu(array(
                'theme_location' => $menu_location, // Dynamic menu location
                'container' => false,
                'menu_class' => 'item-menu',
                'fallback_cb' => false,
                'depth' => 2, // Support for submenus
                // No custom walker for Bootstrap here
            ));
            ?>
        </nav>



        <!-- Language Switcher -->
        <div class="lang-container" data-stagger-item>
            <div class="menu-lang">
                <?php
                $current_lang = pll_current_language();
                $languages = pll_the_languages(array('raw' => 1));
                ?>
                <span class="active menu-lang__current"><?php echo strtoupper($current_lang); ?></span>
                <ul>
                    <?php foreach ($languages as $lang): ?>
                        <?php if (!$lang['current_lang']): ?>
                            <li>
                                <a class="menu-lang__item" href="<?php echo esc_url($lang['url']); ?>">
                                    <?php echo strtoupper($lang['slug']); ?>
                                </a>
                            </li>
                        <?php endif; ?>
                    <?php endforeach; ?>
                </ul>
            </div>
        </div>

        <!-- Mobile Menu Toggle -->
        <button class="btn-menu" aria-label="Menu" data-stagger-item>
            <span class="item-burger">
                <span></span>
                <span></span>
                <span></span>
            </span>
        </button>
    </div>
</header>

<!-- Mobile Menu -->

<div id="mobile-menu">
    <div class="item-container container md-up-ta-c">
        <ul>
            <?php
            // Generate the mobile menu dynamically
            wp_nav_menu(array(
                'theme_location' => 'mobile_menu', // Register a new menu location for mobile
                'container' => false,
                'items_wrap' => '%3$s', // Wrap only the <li> items
                'fallback_cb' => false,
                'depth' => 2, // Support for submenus
            ));
            ?>

            <!-- Language Switcher for Mobile -->
            <li class="lang-container" data-stagger-item>
                <div class="menu-lang">
                    <?php
                    // Get current language
                    $current_lang = pll_current_language();

                    // Get list of available languages
                    $languages = pll_the_languages(array('raw' => 1));
                    ?>
                    <span class="active menu-lang__current"><?php echo strtoupper($current_lang); ?></span>
                    <ul>
                        <?php if (!empty($languages)): ?>
                            <?php foreach ($languages as $lang): ?>
                                <?php if (!$lang['current_lang']): ?>
                                    <li>
                                        <a class="menu-lang__item" href="<?php echo esc_url($lang['url']); ?>">
                                            <?php echo strtoupper($lang['slug']); ?>
                                        </a>
                                    </li>
                                <?php endif; ?>
                            <?php endforeach; ?>
                        <?php else: ?>
                            <li>No languages available</li>
                        <?php endif; ?>
                    </ul>
                </div>
            </li>
        </ul>
    </div>
</div>